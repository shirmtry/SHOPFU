<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Shop Mua G√≥i - Cao C·∫•p</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #f4f4f9, #e9ecef);
    margin: 0;
    padding: 0;
  }

  header {
    background: #1a1a1a;
    color: white;
    padding: 20px 40px;
    text-align: center;
    font-size: 24px;
    font-weight: bold;
    letter-spacing: 1px;
  }

  .user-info {
    text-align: center;
    margin: 20px 0;
    font-size: 18px;
  }
  .user-info span {
    font-weight: bold;
    color: #28a745;
  }

  .shop-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 20px;
    padding: 20px 40px;
    max-width: 1300px;
    margin: auto;
  }

  .package {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
  }

  .package:hover {
    transform: translateY(-8px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  }

  .package-header {
    background: linear-gradient(135deg, #007bff, #0056b3);
    color: white;
    padding: 20px;
    text-align: center;
    font-size: 20px;
    font-weight: bold;
  }

  .price {
    font-size: 22px;
    color: #dc3545;
    text-align: center;
    margin: 15px 0;
    font-weight: bold;
  }

  .features {
    flex: 1;
    padding: 0 20px 20px 20px;
    font-size: 15px;
    line-height: 1.5;
  }

  .btn-buy {
    background: linear-gradient(135deg, #28a745, #218838);
    color: white;
    border: none;
    padding: 12px;
    font-size: 16px;
    cursor: pointer;
    transition: 0.3s;
    width: 100%;
  }

  .btn-buy:hover {
    background: linear-gradient(135deg, #218838, #1e7e34);
  }

  footer {
    text-align: center;
    padding: 20px;
    color: #777;
    font-size: 14px;
    background: #f8f9fa;
    margin-top: 30px;
  }
</style>
</head>
<body>

<header>üõí C·ª≠a H√†ng Tool & D·ªãch V·ª•</header>

<div class="user-info">
  Xin ch√†o, <span id="username">ƒêang t·∫£i...</span> | S·ªë d∆∞: <span id="balance">0</span> VND
</div>

<div class="shop-container">
  <!-- G√≥i 1 -->
  <div class="package">
    <div class="package-header">G√≥i Basic</div>
    <div class="price">100,000 VND</div>
    <div class="features">
      - TOOL SEB b·∫£n c∆° b·∫£n<br>
      - S·ª≠ d·ª•ng 1 thi·∫øt b·ªã<br>
      - H·ªó tr·ª£ 24/7 qua chat
    </div>
    <button class="btn-buy" data-price="100000" data-package="basic">Mua ngay</button>
  </div>

  <!-- G√≥i 2 -->
  <div class="package">
    <div class="package-header">G√≥i VIP1</div>
    <div class="price">200,000 VND</div>
    <div class="features">
      - TOOL EOS<br>
      - Kh√¥ng gi·ªõi h·∫°n thi·∫øt b·ªã<br>
      - Update mi·ªÖn ph√≠ 1 nƒÉm
    </div>
    <button class="btn-buy" data-price="200000" data-package="vip1">Mua ngay</button>
  </div>

  <!-- G√≥i 3 -->
  <div class="package">
    <div class="package-header">G√≥i VIP2</div>
    <div class="price">300,000 VND</div>
    <div class="features">
      - TOOL EOS + SEB<br>
      - T√≠ch h·ª£p b·∫£o m·∫≠t n√¢ng cao<br>
      - H·ªó tr·ª£ t·ª´ xa
    </div>
    <button class="btn-buy" data-price="300000" data-package="vip2">Mua ngay</button>
  </div>

  <!-- G√≥i 4 -->
  <div class="package">
    <div class="package-header">G√≥i VIP3</div>
    <div class="price">500,000 VND</div>
    <div class="features">
      - TOOL EOS + SEB PRO<br>
      - B·∫£o m·∫≠t c·∫•p cao nh·∫•t<br>
      - ∆Øu ti√™n h·ªó tr·ª£ nhanh
    </div>
    <button class="btn-buy" data-price="500000" data-package="vip3">Mua ngay</button>
  </div>

  <!-- G√≥i 5 -->
  <div class="package">
    <div class="package-header">G√≥i H·ªó Tr·ª£</div>
    <div class="price">50,000 VND</div>
    <div class="features">
      - H·ªó tr·ª£ k·ªπ thu·∫≠t<br>
      - C√†i ƒë·∫∑t tool t·ª´ xa<br>
      - T∆∞ v·∫•n t·ªëi ∆∞u b·∫£o m·∫≠t
    </div>
    <button class="btn-buy" data-price="50000" data-package="support">Mua ngay</button>
  </div>

  <!-- G√≥i 6 -->
  <div class="package">
    <div class="package-header">App Banking ·∫¢o</div>
    <div class="price">150,000 VND</div>
    <div class="features">
      - Fake bill chuy·ªÉn kho·∫£n<br>
      - H·ªó tr·ª£ nhi·ªÅu ng√¢n h√†ng<br>
      - Giao di·ªán gi·ªëng th·∫≠t 99%
    </div>
    <button class="btn-buy" data-price="150000" data-package="fakebill">Mua ngay</button>
  </div>

  <!-- G√≥i 7 -->
  <div class="package">
    <div class="package-header">G√≥i B·∫£o M·∫≠t</div>
    <div class="price">250,000 VND</div>
    <div class="features">
      - Ch·ªëng b·ªã ph√°t hi·ªán tool<br>
      - ·∫®n IP v√† th√¥ng tin thi·∫øt b·ªã<br>
      - C·∫≠p nh·∫≠t li√™n t·ª•c
    </div>
    <button class="btn-buy" data-price="250000" data-package="security">Mua ngay</button>
  </div>
</div>

<footer>
  &copy; 2025 C·ª≠a h√†ng Tool Online - Sang tr·ªçng & Uy t√≠n.
</footer>

<script>
  document.addEventListener('contextmenu', e => e.preventDefault());
  document.addEventListener('selectstart', e => e.preventDefault());

  const API_URL = "https://script.google.com/macros/s/AKfycby-wQER7OQWR2WYTRqwjhHXa7IrrW8V8IqhPBe3eJMpguEor1myIwoXs0HSIeDFt1elEg/exec";
  let userData = { name: "", balance: 0 };

  async function fetchUserData() {
    try {
      const username = localStorage.getItem("username") || "";
      if (!username) {
        alert("B·∫°n ch∆∞a ƒëƒÉng nh·∫≠p!");
        window.location.href = "login.html";
        return;
      }

      const res = await fetch(`${API_URL}?username=${encodeURIComponent(username)}`);
      const data = await res.json();

      if (data && data.name && data.balance !== undefined) {
        userData = { name: data.name, balance: parseInt(data.balance) };
        document.getElementById('username').textContent = userData.name;
        document.getElementById('balance').textContent = userData.balance.toLocaleString();
      } else {
        throw new Error("Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu");
      }
    } catch (err) {
      alert("Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu, th·ª≠ l·∫°i sau.");
    }
  }

  function handleBuyClick() {
    const price = parseInt(this.getAttribute('data-price'));
    const packageName = this.getAttribute('data-package');
    const packageDisplayNames = {
      'basic': 'G√≥i Basic',
      'vip1': 'G√≥i VIP1',
      'vip2': 'G√≥i VIP2',
      'vip3': 'G√≥i VIP3',
      'support': 'G√≥i H·ªó Tr·ª£',
      'fakebill': 'App Banking ·∫¢o',
      'security': 'G√≥i B·∫£o M·∫≠t'
    };

    if (userData.balance >= price) {
      alert(`Mua th√†nh c√¥ng ${packageDisplayNames[packageName]} v·ªõi gi√° ${price.toLocaleString()} VND`);
      window.location.href = `thankyou.html?package=${encodeURIComponent(packageName)}`;
    } else {
      const needed = price - userData.balance;
      alert(`C·∫ßn n·∫°p th√™m ${needed.toLocaleString()} VND ƒë·ªÉ mua g√≥i n√†y`);
      window.location.href = `banking.html?package=${encodeURIComponent(packageName)}&amount=${needed}`;
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    fetchUserData();
    document.querySelectorAll('.btn-buy').forEach(btn => {
      btn.addEventListener('click', handleBuyClick);
    });
  });
</script>

</body>
</html>
